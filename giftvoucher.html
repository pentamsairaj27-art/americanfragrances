<!DOCTYPE html>
<html>
<head>
     <title>Perfumes with AI and Super Sale</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="Images/favicon.png" />
    <!-- Bootstrap links -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="Css/StyleSheet.css" rel="stylesheet" />
    <link href="Css/login.css" rel="stylesheet" />
    <!-- Google fonts-->
   <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
      .herewhatGos{
          color: #70b4bd !important;
    text-decoration: underline;
    cursor:pointer;
      }
      hr {
          border: 1px solid #d3d3d3;
      }
      .herewhatGo {
          color: white !important;
          border-radius: 25px !important;
          border: 2px solid #70b4bd !important;
          padding: 8px 16px !important;
          border-radius: 22px !important;
          background: #70b4bd !important;
      }
      .breadcrumb-item.active {
          color: #000 !important;
      }
      .e-gift-card-border {
          border: 12px solid #70b4bd;
          margin: 6%;
          margin-top: 2%;
      }
      .form-control:focus {
          box-shadow: 0 0 0 .15rem #70b4bd;
      }
  </style>

</head>
<body class="customerbodydv">
    <div id="preloader" style="position: fixed; width: 100%; height: 100%; background: #fff; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 9999;">
        <div class="progress" style="width: 50%; height: 2px; margin-bottom: 10px;">
            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%; background-color: #70b4bd;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <div class="loading-text" style="color: #70b4bd; font-family: 'Poppins', sans-serif;">Loading...</div>
    </div>
    <div id="dvtopnav"></div>
    <!-----------------------------------------------Top Navigation Start----------------------------------------------------------->
    <div class="dvnavcust"></div>
    <!-----------------------------------------------Top Navigation End----------------------------------------------------------->
    <!--giftVocherModal-->
    <div class="modal fade" id="giftvocherLogin" role="dialog"></div>
    <div class="container-fluid">
        <!--<hr style="border: 1px solid #d3d3d3 !important;">-->
        <div class="row">
            <hr />
            <div class="text-center">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb justify-content-center">
                        <li class="breadcrumb-item"><a class="text-dark" href="home.html">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page" style="text-transform:none !important;"> e-Gift Card</li>
                    </ol>
                </nav>
            </div>
            <hr class="m-0"/>
        </div>
        <!--<hr style="border: 1px solid #d3d3d3 !important; ">-->
    </div>
    <div class="e-gift-card-border">
        <div class="d-flex flex-row justify-content-between align-items-center pb-3 pt-3">
            <div class="text-center">
                <img src="Images/products/giftCardImg1.png" style="width:50%" />
            </div>
            <div class="align-items-center ">
                <h2 class="text-center" style="margin:2%">
                    e-Gift Card
                </h2>
                <p class="pt-3">
                    Looking for the perfect gift? Look no further. Our eGift Cards are ideal for birthdays, anniversaries, holidays, or any special occasion. With an eGift Card, there's no worry about choosing the wrong fragrance or beauty product. Let your loved ones select their favored fragrances and beauty products to suit their personal tastes.<br /><br />Simply fill out the form below and click "Add eGift Card to Shopping Bag." Upon purchase, the eGift Card will be delivered directly to your email. It's that easy! For more information, visit our eGift Cards Terms and Conditions.
                </p>
            </div>
            <div class="text-center">
                <img src="Images/products/giftCardImg2.png" style="width:50%" />
            </div>
        </div>
        <div class="container p-5 pt-0">
            <div class="card">
                <div class="card-header"></div>
                <div class="card-body">

                    <form id="formgift" class="form-horizontal" onsubmit="return false" method="post">
                        <div class="row">
                            <div class="col-md-6">
                                <label class="form-label" for="username">
                                    Your Name
                                </label>
                                <input class=" form-control" id="user_name" type="text" placeholder=" " required />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="recipientusername">
                                    Recipient’s  Name
                                </label>
                                <input class=" form-control" id="recipientusername" type="text" placeholder=" " required />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="email">
                                    Your Email
                                </label>
                                <input class=" form-control" id="email" type="email" placeholder=" " required />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="Yourphone">
                                    Your Phone Number
                                </label>
                                <input class=" form-control" id="Yourphone" type="tel" placeholder=" " required />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="recipientemail">
                                    Recipient’s Email
                                </label>
                                <input class=" form-control" id="recipientemail" type="email" placeholder=" " required />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="phone">
                                    Recipient’s Phone Number
                                </label>
                                <input class=" form-control" id="phone" type="tel" placeholder=" " required />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="Occasion">
                                    Occasion
                                </label>
                                <input class=" form-control" id="Occasion" type="text" placeholder=" " required />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="giftamount">
                                    Gift Card Amount (in USD)
                                </label>
                                <input class=" form-control" id="giftamount" type="number" placeholder=" " required />
                            </div>
                            <div class="col-md-12">
                                <label class="form-label" for="giftmessage">Greeting/Message </label>
                                <textarea class=" form-control" id="giftmessage" type="number" placeholder=" " required></textarea>
                            </div>
                            <div class="col-md-4 mt-4">
                                <div id="paypal-button-container" type="submit" name="submit" class="submit" value="Submit"></div>

                                <!-- <input type="submit" name="submit" class="submit btn btn-success" value="Submit" /> -->
                            </div>


                            <div class="col-md-8 mt-4 text-end ">
                                <a class=" herewhatGos" data-bs-target="#analyizepopup" data-bs-toggle="modal" > e-Gift Card Disclaimer</a>

                                <!--<button class="btn giftvochurDis">
                                    E-Gift Card Disclaimer
                                </button>-->

                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!--Analyize popup-->
            <div class="modal fade" id="analyizepopup" role="dialog">
                <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="d-block m-auto">
                                <h4 class="modal-heading m-0 text-center" style="text-transform:none !important">
                                    e-Gift Card Disclaimer
                                </h4>

                                <!--<h6 class="m-0 text-center">What is the BARCODE?</h6>-->
                            </div>

                            <button type="button" class="btn-close ms-0" data-bs-dismiss="modal"></button>
                        </div>

                        <!--<div class="row">
                            <div style="width:100%;">
                                <div class="progress mb-4 " style="padding-left:10px; padding-right:10px;"><div class="progress-bar bg-ten" role="progressbar" style="width:10%" title="Personality">Personality</div><div class="progress-bar bg-twenty" role="progressbar" style="width:10%" title="Zodiac">Zodiac</div><div class="progress-bar bg-thirty" role="progressbar" style="width:10%" title="Strength">Strength</div><div class="progress-bar bg-fourty" role="progressbar" style="width:10%" title="Passion">Passion</div><div class="progress-bar bg-fifty" role="progressbar" style="width:10%" title="Entertainment">Entertainment</div><div class="progress-bar bg-sixty" role="progressbar" style="width:10%" title="Style">Style</div><div class="progress-bar bg-hundered" role="progressbar" style="width:10%" title="Color">Color</div><div class="progress-bar bg-seventy" role="progressbar" style="width:10%" title="Smell">Smell</div><div class="progress-bar bg-eighty" role="progressbar" style="width:10%" title="Mood">Mood</div><div class="progress-bar bg-ninety" role="progressbar" style="width:10%" title="Season">Season</div></div>
                            </div>
                        </div>-->

                        <div class="modal-body py-2">
                            <div class="row p-3 align-items-baseline">
                                <p style="color:black; font-size:14px;">
                                    <b>Validity:</b> e-Gift Cards are valid for use only in the specified store and cannot be exchanged for cash or used to purchase other gift cards.
                                    <br />
                                    <br />
                                    <b>Non-Refundable:</b> e-Gift Cards are non-refundable and cannot be exchanged for cash or credit.
                                    <br />
                                    <br />
                                    <b>Security:</b> The value of an e-Gift Card is tied to its unique code. Please treat this code as cash. The issuer is not responsible for lost, stolen, or unauthorized use of E-Gift Cards.
                                    <br />
                                    <br />
                                    <b>Limitations:</b> e-Gift Cards cannot be used in conjunction with certain promotions or discounts unless specified. Only one e-Gift Card may be used per order.
                                    <br />
                                    <br />
                                    <b>Redemption:</b> e-Gift Cards can be redeemed online at the specified website. To redeem, enter the unique code at checkout.
                                </p>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer id="footer"></footer>
    <!-----------------------------------------------Footer End----------------------------------------------------------->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://www.paypal.com/sdk/js?client-id=AYicmPVpGQUsBz3mUqSIGvRT-fcwJcWK3c8ZUUF39ovVXEYN8E45Zf2U40-ihE6bqHmg-5IQwb8zcfSJ"></script>

    <script src="Js/Global.js"></script>
    <script src="Js/Navbar.js"></script>
    <script src="Js/cart_page.js"></script>
    <script src="Js/customer_Login.js"></script>



    <!--<script>
        var amount;  // Declare amount in a higher scope

        $(document).on("change", "#giftamount", function () {
            amount = $(this).val();  // Update the amount variable
            console.log(amount);
        });

        paypal.Buttons({
            createOrder: function (data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: amount  // Set your payment amount here
                        }
                    }]
                });
            },
            onApprove: function (data, actions) {
                return actions.order.capture().then(function (details) {

                    var cart_id = localStorage.getItem("cart_id");
                    var cust_auth = localStorage.getItem("authorid");
                    alert('Payment successful! Transaction ID: ' + details.id);
                    var yourname = $("#username").val();
                    var recipientname = $("#recipientusername").val();
                    var yourphone = $("#Yourphone").val();
                    var yourmail = $("#email").val();
                    var recipientmail = $("#recipientemail").val();
                    var phone = $("#phone").val();
                    var occassion = $("#Occasion").val();
                    var amount = $("#giftamount").val();
                    var message = $("#giftmessage").val();
                    $.ajax({
                        url: "https://api.americanfragrances.com/Coupons/CreateAndSendGiftCard",
                        type: "POST",
                        data: {
                            "Project_Id": Project_Id, "CreatedBy": cust_auth, "yourname": yourname, "recipientname": recipientname, "yourmail": yourmail, "recipientmail": recipientmail, "amount": amount, "message": message, "recipientphone": phone, "phone": yourphone, "occassion": occassion
                        },
                        dataType: "json",
                        traditional: true,
                        success: function (data) {

                            alert(data.message);
                            location.reload();
                        },
                        error: function (xhr) {
                            if (xhr.status === 401) {
                                // window.location.href = "/Admin/Login.html";
                                return;
                            }
                        }
                    });
                });
            }
        }).render('#paypal-button-container');

    </script>-->

    <script>
        var amount;  // Declare amount in a higher scope

        // Capture amount from dropdown/input
        $(document).on("change", "#giftamount", function () {
            amount = $(this).val();
            console.log(amount);
        });

        paypal.Buttons({
            createOrder: function (data, actions) {
                // Collect all form values
                var yourname = $("#user_name").val();
                var recipientname = $("#recipientusername").val();
                var yourphone = $("#Yourphone").val();
                var yourmail = $("#email").val();
                var recipientmail = $("#recipientemail").val();
                var phone = $("#phone").val();
                var occassion = $("#Occasion").val();
                var giftamount = $("#giftamount").val();
                var message = $("#giftmessage").val();

                // Check if any value is empty
                if (!yourname || !recipientname || !yourphone || !yourmail || !recipientmail || !phone || !occassion || !giftamount || !message) {

                    const style = document.createElement('style');
                    style.type = 'text/css';
                    style.id = 'custom-swal-style';
                    style.innerHTML = `
                        .swal2-actions::before {
                             display:none !important;
                        }
                        .swal2-actions {
                            display:none !important;
                           
                        }
                        #swal2-content{
                            color:#70b4bd !important;
                        }
                       .swal2-modal {
                            border: 8px solid #70b4bd !important;
                        }
                    `;
                    document.getElementsByTagName('head')[0].appendChild(style);

                    swal({
                        title: "",
                        text: "Please Fill All The Fields",
                        icon: "warning",
                        buttons: false,
                        timer: 3000
                    }).then(function () {
                        const customStyle = document.getElementById('custom-swal-style');

                        if (customStyle) {
                            customStyle.parentNode.removeChild(customStyle);
                        }
                    });
                    return actions.reject(); // Stop the PayPal flow
                }

                // Proceed with order if all fields are filled
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: giftamount
                        }
                    }]
                });
            },

            onApprove: function (data, actions) {
                return actions.order.capture().then(function (details) {
                    var cart_id = localStorage.getItem("cart_id");
                    var cust_auth = localStorage.getItem("authorid");

                    // Collect values again for the POST request
                    var yourname = $("#user_name").val();
                    var recipientname = $("#recipientusername").val();
                    var yourphone = $("#Yourphone").val();
                    var yourmail = $("#email").val();
                    var recipientmail = $("#recipientemail").val();
                    var phone = $("#phone").val();
                    var occassion = $("#Occasion").val();
                    var amount = $("#giftamount").val();
                    var message = $("#giftmessage").val();

                    // Send data to API
                    $.ajax({
                        url: "https://api.americanfragrances.com/Coupons/CreateAndSendGiftCard",
                        type: "POST",
                        data: {
                            "Project_Id": Project_Id,
                            "CreatedBy": cust_auth,
                            "yourname": yourname,
                            "recipientname": recipientname,
                            "yourmail": yourmail,
                            "recipientmail": recipientmail,
                            "amount": amount,
                            "message": message,
                            "recipientphone": phone,
                            "phone": yourphone,
                            "occassion": occassion
                        },
                        dataType: "json",
                        traditional: true,
                        success: function (data) {
                            alert(data.message);
                            location.reload();
                        },
                        error: function (xhr) {
                            if (xhr.status === 401) {
                                return;
                            }
                        }
                    });
                });
            }
        }).render('#paypal-button-container');  // Render the PayPal button
    </script>



</body>
</html>

